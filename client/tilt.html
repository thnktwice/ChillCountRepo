<head>
  <title>tiltapp</title>
  <meta name="viewport" content="width=device-width, user-scalable=yes">
</head>

<body>
</body>

<template name="login">
  <p><i>Ready,steady....</i></p>
  <div id="login">
    {{> loginButtons}}
  </div>
  {{#if currentUser}}
    {{goHome}}
  {{/if}}
</template>

<template name="topics_board">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h2>Tilt !</h2>
    </div>
  </div>
  <h5><i>You can count on it</i></h5>


  <div class="topicBoard">
  <button class="btn btn-warning" id="add_topic">New topic</button>
    {{debug}}
    {{> loginButtons}}
    {{#each topics}}
      {{> topic}}
    {{/each}}

  <hr/>

      <!-- <input type="text" class="span2 search-query"/> -->
  <p><i>Thanks for joining Superchill mission into the galaxy...</i></p>
</div>
</template>

<template name="topic">
  <div class="topic {{selected}}">
    <button class="plus btn btn-success btn-small">+ 1</button>
    <span class="score">{{score}}</span>
    <span class="name">{{name}}</span>
    {{#if currentUserIsAdmin}}
      <span class="creator">{{this.uname}}</span>
    {{/if}}
    <span class="type"><i>{{type}}</i></span>
    <button class="go btn btn-info btn-small"><i class="icon-chevron-right icon-white"></i></button> 
  </div>
</template>

<template name="topic_creation">
  <button class="btn btn-primary" id="cancel_new_topic">Cancel</button>
  <div id="topic_creation_form">
    {{> topic_creation_form}}
  </div>
</template>

<template name="topic_creation_form">
  <form class="form-search">
    <label class="control-label">Would you like your topic to be : </label>
    <br/>
    <label class="radio-inline">
      <input type="radio" name="topic_type" value="public" checked> Public
    </label>
    <label class="radio-inline">
      <input type="radio" name="topic_type" value="private"> Private
    </label>
    <br/>
    <input class="form-control" type="text" id="topic_name" placeholder="Topic Name">
    <button class="btn btn-warning" type="input" id="new_topic">Create new topic</button>
  </form>
</template>

<template name="topic_timeline">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <button id="back" class="btn btn-info btn-small pull-left"><i class="icon-chevron-left icon-white"></i></button>
        <h2>{{name}} timeline</h2>
        <button class="plus btn btn-success btn-small">+1</button>
    </div>
  </div>
  {{#each logs}}
    {{> log}}
  {{/each}}

  <form class="form-search">
    <input class="form-control" type="text" id="message_content" placeholder="Feelings about these logs ?">
    <button class="btn btn-warning" type="input" id="new_message">Ya !</button>
  </form>
</template>

<template name="log">
  <div class="log">
    {{#if this.isMessage}}
      {{> message}}
    {{/if}}
    {{#if this.isCount}}
      {{> count}}
    {{/if}}    
    {{#if this.isAdminMessage}}
      {{> adminMessage}}
    {{/if}}
  </div>
</template>

<template name="count">
  <div class="count">
    <span class="uname">@{{this.uname}}: </span>
    <span class="formatted_time">{{formatted_time timestamp}}</span>
    <span class="plus_one">+1</span>
  </div>
</template>

<template name="message">
  <div class="message">
    <span class="uname">@{{this.uname}}: </span>
    <span class="formatted_time">{{formatted_time timestamp}}</span>
    <span class="content">{{content}}</span>
  </div>
</template>

<template name="adminMessage">
  <div class="adminMessage">
    <span class="admin_uname">--CHILLBOT-- : </span>
    <span class="admin_formatted_time">{{formatted_time timestamp}}</span>
    <span class="admin_content">{{content}}</span>
  </div>
</template>

<template name="page_not_found">
  <h1>Something went wrong....</h1>
</template>