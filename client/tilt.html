<head>
  <title>tiltapp</title>
  <meta name="viewport" content="width=device-width, user-scalable=yes">
</head>

<body>
</body>

<template name="login">
  <p><i>Ready,steady....</i></p>
  <div id="login">
    {{> loginButtons}}
  </div>
  {{#if currentUser}}
    {{goHome}}
  {{/if}}
</template>



<template name="topics_board">
 
  <!-- navigation bar -->
  <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="row">
            <div class="col-xs-2 left_button" id="add_topic">
            </div>
            <div class="col-xs-8 title_box">
                <h2 class="title">Chillcount</h2>
            </div> 
            <div class="col-xs-2 right_button">
            </div>
          </div>
        </div>
      </div>
    </div>

  <div class="topicBoard">
    {{debug}}
    {{#each topics}}
      {{> topic}}
    {{/each}}
    
      <!-- <input type="text" class="span2 search-query"/> -->
    <div id="footer">  
      <hr/>
      <p><i>Thanks for joining Superchill !</i></p>
      {{> loginButtons}}
      <br/><br/>
    </div>
  </div>
</template>

<template name="topic">
  <div class="topic {{selected}}">
    <div class="container">
      <div class="row">
        <div class="col-xs-3 plus score">
          {{score}}
        </div>
        <div class="col-xs-8 name">
          {{name}}
          <div class="row">
            <div class="col-xs-4 {{type}}_small_icon">
            </div>
            <div class="col-xs-2">
              <div class="link_icon {{selected}}">
              </div>
            </div>
            {{#if currentUserIsAdmin}}
              <div class="col-xs-5 creator">
                {{this.uname}}
              </div>
            {{/if}}
          </div>
        </div>
        <div class="col-xs-1">
          <div class="go">
          </div>
        </div>
      </div>
    </div>
  </div>
</template>


<!-- Topic creation -->
<template name="topic_creation">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <div class="row">
          <div class="col-xs-2 left_button" id="cancel_new_topic">
          </div>
          <div class="col-xs-8 title_box">
            <h2 class="title">New Topic</h2>
          </div>
          <div class="col-xs-2 right_button" id="new_topic">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="topic_creation_form">
   {{> topic_creation_form}}
  </div>
</template>

<template name="topic_creation_form">
  <form class="form-search">
    <div class="container">
      <div class="row">
        <br/>
        <div class="col-xs-12">
          <input class="form-control" type="text" id="topic_name" placeholder="Title" maxlength="18">
        </div>
      </div>
      <br/>
      <div class="row">
        <div class="col-xs-12">
          <textarea rows="3" placeholder="Description"
          id="topic_description" class="form-control"></textarea>
        </div>
      </div>
      <br/>
      <br/>
      <div class="row">
        <div class="col-xs-12">
          <label class="control-label" id="shared_with">Shared with: </label>
          <br/>
        </div>
      </div>
      <br/>
      <div class="row">
        <div class="col-xs-6 enabled" id="private_icon">
        </div>
        <div class="col-xs-6 disabled" id="public_icon">
        </div>
      </div>
    </div>
    <!-- champ cache html style display:none, son id icon_type, .html , div -->
    <div id="topic_type" style="display:none">private</div>
  </form>
</template>

<!-- Timeline -->
<template name="topic_timeline">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <div class="row">
          <div class="col-xs-2 left_button" id="back">
          </div>
          <div class="col-xs-8 title_box">
            <h2 class="title">{{name}}</h2>
          </div>
          <div class="col-xs-2 right_button">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" id="scoreboard">

    <div class="row">
      <div class="col-xs-3">
        <p id="my_score">{{my_score}}</p>
      </div>
      <div class="col-xs-6 plus">
        <h1 id="total_score">{{score}}</h1>
      </div>
      <div class="col-xs-3">
        <div class="link_icon_{{selected}}"></div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <h4 id="description"><i>{{description}}</i></h4>
      </div>
    </div>
    <div class="row">
      <hr/>
    </div>
  

    <form class="form-search">
      <div class="row">
        <div class="col-xs-12">
          <div class="input-group">
            <input type="text" class="form-control" id="message_content" placeholder="Feelings about these logs ?">
            <span class="input-group-btn">
              <button class="btn btn-warning" type="button" id="new_message">Post</button>
            </span>
          </div>
        </div>
      </div>
    </form>

    <br/>
    <div class="row">
      <div class="col-xs-12">
        {{#each logs}}
          {{> log}}
        {{/each}}
      </div>
    </div>
  </div>
  <br/>
</template>

<template name="log">
  <div class="log">
    {{#if this.isMessage}}
      {{> message}}
    {{/if}}
    {{#if this.isCount}}
      {{> count}}
    {{/if}}    
    {{#if this.isAdminMessage}}
      {{> adminMessage}}
    {{/if}}
  </div>
</template>

<template name="count">
  {{#if isMine}}
  <div class="count mine">
    <div class="row"> 
      <div class="col-xs-12 formatted_time mine">
        {{formatted_time timestamp}}
      </div>
    </div>
    <div class="row"> 
      <div class="col-xs-12 mine">
        <span class="score_log">{{score}}</span>
        <span class="name_log">&nbsp;by me</span>
      </div>
    </div>
  </div>
  {{else}}
  <div class="count">
    <div class="row"> 
      <div class="col-xs-12 formatted_time">
        {{formatted_time timestamp}}
      </div>
    </div>
    <div class="row"> 
      <div class="col-xs-12">
        <span class="name_log">{{this.uname}}:&nbsp;</span>
        <span class="score_log">{{score}}</span>
      </div>
    </div>
  </div>
  {{/if}}
</template>

<template name="message">
  {{#if isMine}}
    <div class="row"> 
      <div class="col-xs-12 formatted_time mine">
        {{formatted_time timestamp}}
      </div>
    </div>
    <div class="row"> 
      <div class="col-xs-11 col-xs-offset-1">
        <div class="message">
          <div class="row"> 
            <div class="col-xs-12 uname mine">
              ({{score}})  Me
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 content mine">
              {{content}}
            </div>
          </div>
        </div>
      </div>
    </div>
  {{else}}
    <div class="row"> 
      <div class="col-xs-12 formatted_time">
        {{formatted_time timestamp }}
      </div>
    </div>
    <div class="row"> 
      <div class="col-xs-11">
        <div class="message">
          <div class="row"> 
            <div class="col-xs-12 uname">
              {{this.uname}}  ({{score}})
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 content">
              {{content}}
            </div>
          </div>
        </div>
      </div>
    </div>
  {{/if}}


</template>

<template name="adminMessage">
  <div class="row"> 
    <div class="col-xs-12 admin_formatted_time">
      {{formatted_time timestamp}}
    </div>
  </div>
  <div class="row"> 
    <div class="col-xs-11">
      <div class="adminMessage">
        <div class="row"> 
          <div class="col-xs-12 admin_uname">
            <span>Chillbot</span>
            <span class="chillbot"></span>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 admin_content">
          {{content}}
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="page_not_found">
  <h1>Something went wrong....</h1>
</template>